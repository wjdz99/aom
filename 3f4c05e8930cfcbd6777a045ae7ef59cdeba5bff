{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "1ae4ebc1_01c076e2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 29295
      },
      "writtenOn": "2022-08-18T12:56:10Z",
      "side": 1,
      "message": "Hi Marco, Yunqing, \n\nIn this CL, we adjust MV precision for relatively static (e.g. background) large blocks with low spatial complexity. This is enabled for speed 7, 8 HDRES only. We have renamed the existing sf: “force_half_pel_block” to “reduce_mv_pel_precision” to facilitate integration with function subpel_select() in nonrd_pickmode.c. \n\nThe following worst-case contents are visually tested:\nSpeed 7: mj1vc720p (600 kbps, 800 kbps), vidyo1 (800 kbps)\nSpeed 8: mj1vc720p (600 kbps, 800 kbps) \nThere are no noticeable differences as compared with the ref.\n\nWe have used a threshold to label a block has very low SAD. To do this, we have added an array element source_sad_nonrd[2]. If this is OK, that is already in the patchset. Alternatively, we can introduce and use a new level “kVerylowSad” in the existing enum table. However, this will need changes at several places to ensure bit-exactness. If you prefer that, we can do this in a separate CL.\n\nPlease review the CL.\n\nThanks,\nNeeraj",
      "revId": "3f4c05e8930cfcbd6777a045ae7ef59cdeba5bff",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "27e3338b_93f39df4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 5185
      },
      "writtenOn": "2022-08-18T16:36:59Z",
      "side": 1,
      "message": "Good speedup. The tradeoff looks good too. Using a new level sounds more clear than current implementation.\n\nAlso, what is the speedups for those best \u0026 worst clips? Does worst clips get more speedups?",
      "parentUuid": "1ae4ebc1_01c076e2",
      "revId": "3f4c05e8930cfcbd6777a045ae7ef59cdeba5bff",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a6b38d18_0edc359f",
        "filename": "av1/encoder/nonrd_pickmode.c",
        "patchSetId": 3
      },
      "lineNbr": 222,
      "author": {
        "id": 5190
      },
      "writtenOn": "2022-08-18T16:50:45Z",
      "side": 1,
      "message": "This logic (reduce_mv_pel_precision \u003d\u003d 2) tends to reduce subpel for low motion areas, but we found (as in logic above at line 211, reduce_mv_pel_precision \u003d\u003d 2) that for high motion it was less noticeable to reduce from 1/4 -\u003e 1/2. For background low-motion blocks, subpel seemed useful for removing noise, so we kept it there. The visual impact of the two levels (1 and 2) are then different?",
      "revId": "3f4c05e8930cfcbd6777a045ae7ef59cdeba5bff",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "be025051_8cabd7f1",
        "filename": "av1/encoder/speed_features.c",
        "patchSetId": 3
      },
      "lineNbr": 1346,
      "author": {
        "id": 5190
      },
      "writtenOn": "2022-08-18T16:57:32Z",
      "side": 1,
      "message": "For resoln \u003e\u003d 720p, look like we would have this feature on for 7,8, and 10. I think it should also be enabled for speed 9, can you check if setting 9 to the same existing level (\u003d2) as 10 as any benefit?",
      "revId": "3f4c05e8930cfcbd6777a045ae7ef59cdeba5bff",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0"
    }
  ]
}
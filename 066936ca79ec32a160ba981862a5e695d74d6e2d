{
  "comments": [
    {
      "key": {
        "uuid": "eab083c7_0b271c7f",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 5
      },
      "lineNbr": 7855,
      "author": {
        "id": 5290
      },
      "writtenOn": "2017-02-22T20:21:17Z",
      "side": 1,
      "message": "You can typedef an anonymous struct like this instead, and also let\u0027s use CamelCase for the struct name.\n(This is not consistent right now, but we may end up using ALL_CAPS or CamelCase eventually I think).\n\ntypedef struct {\n...\n} HandleInterModeArgs;",
      "range": {
        "startLine": 7855,
        "startChar": 15,
        "endLine": 7855,
        "endChar": 37
      },
      "revId": "066936ca79ec32a160ba981862a5e695d74d6e2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "712bdcde_704ac954",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 5
      },
      "lineNbr": 7855,
      "author": {
        "id": 6465
      },
      "writtenOn": "2017-02-23T00:34:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "eab083c7_0b271c7f",
      "range": {
        "startLine": 7855,
        "startChar": 15,
        "endLine": 7855,
        "endChar": 37
      },
      "revId": "066936ca79ec32a160ba981862a5e695d74d6e2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c90fd06e_9c85b5d3",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 5
      },
      "lineNbr": 7857,
      "author": {
        "id": 5290
      },
      "writtenOn": "2017-02-22T20:21:17Z",
      "side": 1,
      "message": "Can we add a short comment for each of the struct members?",
      "revId": "066936ca79ec32a160ba981862a5e695d74d6e2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a932bde0_958c972d",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 5
      },
      "lineNbr": 7857,
      "author": {
        "id": 6465
      },
      "writtenOn": "2017-02-23T00:34:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c90fd06e_9c85b5d3",
      "revId": "066936ca79ec32a160ba981862a5e695d74d6e2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5395bdc8_43e55806",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 5
      },
      "lineNbr": 7863,
      "author": {
        "id": 5290
      },
      "writtenOn": "2017-02-22T20:21:17Z",
      "side": 1,
      "message": "Why not \"int_mv single_newmvs[2][TOTAL_REFS_PER_FRAME]\" as before?\n(same for the member below)",
      "revId": "066936ca79ec32a160ba981862a5e695d74d6e2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2bbec32b_b75d3ef1",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 5
      },
      "lineNbr": 7863,
      "author": {
        "id": 6465
      },
      "writtenOn": "2017-02-23T00:34:44Z",
      "side": 1,
      "message": "This way we can reference an array that\u0027s scope is the caller of handle_inter_mode, which is basically what was done before this patch since the array is being passed by reference. I admit this syntax is kinda gross.\n\nIf we use an array that\u0027s a member of this stuct instead, then the calling function will need to be refactored as well to use the arrays in this struct instead of its own. All if the arrays are declared at the top of the calling function so it shouldn\u0027t be a big deal to do do if you think that\u0027s best. Happy to do it if so, let me know.",
      "parentUuid": "5395bdc8_43e55806",
      "revId": "066936ca79ec32a160ba981862a5e695d74d6e2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aee8fe40_632ea581",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 5
      },
      "lineNbr": 7863,
      "author": {
        "id": 5290
      },
      "writtenOn": "2017-02-23T00:53:01Z",
      "side": 1,
      "message": "Yes, in the caller function(s), if it\u0027s easy to declare a struct directly, instead of declaring multiple variables, that would be great. If it\u0027s too messy, this is fine.",
      "parentUuid": "2bbec32b_b75d3ef1",
      "revId": "066936ca79ec32a160ba981862a5e695d74d6e2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "efa86619_132fba5f",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 5
      },
      "lineNbr": 7863,
      "author": {
        "id": 6465
      },
      "writtenOn": "2017-02-28T00:41:09Z",
      "side": 1,
      "message": "I notice that modelled_rd was originally an int64_t array pointer. It\u0027s NULL in some calls so I think it needs to be a pointer. I do see a comment from jingning@ in the NULL call that suggests it might be deprecated (\"This should be deprecated shortly.\"), but I\u0027m not sure. If it does get deprecated then it can just be a 2D array.\n\nThere\u0027s a similar issue for single_newmvs, single_newmvs_rate, and single_newmv - one function call gets a fresh array of zeros for each, while the other gets the values from the last run. I\u0027ve tested always just using the last run and it reduces performance. Again, if the second call gets removed at some point the array can be made internal to the arguments struct, but for now those members also need to be array pointers.",
      "parentUuid": "aee8fe40_632ea581",
      "revId": "066936ca79ec32a160ba981862a5e695d74d6e2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ec884a13_afb454fd",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 5
      },
      "lineNbr": 7945,
      "author": {
        "id": 5290
      },
      "writtenOn": "2017-02-22T20:21:17Z",
      "side": 1,
      "message": "I believe -\u003e has higher operator precedence than *, so you don\u0027t need the braces.",
      "revId": "066936ca79ec32a160ba981862a5e695d74d6e2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cd522757_a7770d21",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 5
      },
      "lineNbr": 7945,
      "author": {
        "id": 6465
      },
      "writtenOn": "2017-02-23T00:34:44Z",
      "side": 1,
      "message": "I just did this because I thought it would be more readable. You are right though. Should I remove the braces?",
      "parentUuid": "ec884a13_afb454fd",
      "revId": "066936ca79ec32a160ba981862a5e695d74d6e2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cfd32bb8_774e01aa",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 5
      },
      "lineNbr": 7945,
      "author": {
        "id": 5290
      },
      "writtenOn": "2017-02-23T00:53:01Z",
      "side": 1,
      "message": "yup, remove the braces.",
      "parentUuid": "cd522757_a7770d21",
      "revId": "066936ca79ec32a160ba981862a5e695d74d6e2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0130a55f_7db45a7e",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 5
      },
      "lineNbr": 7945,
      "author": {
        "id": 6465
      },
      "writtenOn": "2017-02-28T00:41:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cfd32bb8_774e01aa",
      "revId": "066936ca79ec32a160ba981862a5e695d74d6e2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1eb9b2ee_5198dbcb",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 5
      },
      "lineNbr": 8650,
      "author": {
        "id": 5290
      },
      "writtenOn": "2017-02-22T20:21:17Z",
      "side": 1,
      "message": "\"const\" while we are here",
      "range": {
        "startLine": 8650,
        "startChar": 6,
        "endLine": 8650,
        "endChar": 13
      },
      "revId": "066936ca79ec32a160ba981862a5e695d74d6e2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0bcce54_183bb8e5",
        "filename": "av1/encoder/rdopt.c",
        "patchSetId": 5
      },
      "lineNbr": 8650,
      "author": {
        "id": 6465
      },
      "writtenOn": "2017-02-23T00:34:44Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1eb9b2ee_5198dbcb",
      "range": {
        "startLine": 8650,
        "startChar": 6,
        "endLine": 8650,
        "endChar": 13
      },
      "revId": "066936ca79ec32a160ba981862a5e695d74d6e2d",
      "serverId": "e5514cf8-2d6e-3e29-adb4-24cd6dde4bf0",
      "unresolved": false
    }
  ]
}